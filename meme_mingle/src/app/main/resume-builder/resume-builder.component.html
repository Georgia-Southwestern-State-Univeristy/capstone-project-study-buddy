<div class="card gsw-card">
  <div class="card-header gsw-card-header text-center">
    <h2>Resume Builder</h2>
  </div>

  <form class="resumeForm" [formGroup]="personForm" (ngSubmit)="onSubmit()">
    <!-- 1. PERSONAL INFORMATION -->
    <div class="form-section">
      <h3>Personal Information</h3>
      <div class="form-row">
        <div class="form-group half-width">
          <label for="fName">First Name</label>
          <input id="fName" type="text" placeholder="First Name" formControlName="fName" />
        </div>
        <div class="form-group half-width">
          <label for="lName">Last Name</label>
          <input id="lName" type="text" placeholder="Last Name" formControlName="lName" />
        </div>
      </div>
      <div class="form-group">
        <label for="description">About You</label>
        <textarea
          id="description"
          placeholder="Briefly describe yourself"
          formControlName="description"
        ></textarea>
      </div>
    </div>

    <!-- 2. CAREER GOALS -->
    <div class="form-section">
      <h3>Career Goals</h3>
      <div class="form-group">
        <label for="career">Primary Career Goal</label>
        <input id="career" type="text" placeholder="e.g. Software Engineer" formControlName="career" />
      </div>
      <div class="form-group">
        <label for="career2">Alternate Career (Optional)</label>
        <input
          id="career2"
          type="text"
          placeholder="e.g. Data Scientist"
          formControlName="career2"
        />
      </div>
      <div class="form-group">
        <label for="career3">Alternate Career (Optional)</label>
        <input
          id="career3"
          type="text"
          placeholder="e.g. Web Developer"
          formControlName="career3"
        />
      </div>
    </div>

    <!-- 3. CONTACT INFORMATION -->
    <div class="form-section">
      <h3>Contact Information</h3>
      <div class="form-row">
        <div class="form-group half-width">
          <label for="phoneNum">Mobile Number</label>
          <input
            type="tel"
            id="phoneNum"
            placeholder="(###) ###-####"
            formControlName="phoneNum"
          />
        </div>
        <div class="form-group half-width">
          <label for="email">E-mail</label>
          <input
            type="email"
            id="email"
            placeholder="you@example.com"
            formControlName="email"
          />
        </div>
      </div>
      <div class="form-group">
        <label for="website">Personal Website (Optional)</label>
        <input
          type="text"
          id="website"
          placeholder="www.your-site.com"
          formControlName="website"
        />
      </div>

      <!-- MULTIPLE SOCIAL MEDIA ACCOUNTS -->
      <h4 class="subheader">Social Media Accounts</h4>
      <div formArrayName="socialAccounts">
        <div
          class="mini-card"
          *ngFor="let social of socialAccountsControls; let i = index"
          [formGroupName]="i"
        >
          <!-- Remove button top-right -->
          <button
            type="button"
            class="btn btn-danger remove-btn small-remove"
            (click)="removeSocialAccount(i)"
          >
            &times;
          </button>

          <div class="form-row">
            <div class="form-group half-width">
              <label>Platform</label>
              <input
                type="text"
                placeholder="e.g. LinkedIn"
                formControlName="platform"
              />
            </div>
            <div class="form-group half-width">
              <label>Handle</label>
              <input
                type="text"
                placeholder="e.g. @john_doe"
                formControlName="handle"
              />
            </div>
          </div>
          <div class="form-group">
            <label>Profile URL</label>
            <input
              type="text"
              placeholder="e.g. https://www.linkedin.com/in/john-doe"
              formControlName="link"
            />
          </div>
        </div>

        <!-- Button to add more Social Accounts -->
        <button
          type="button"
          class="btn btn-secondary add-btn"
          (click)="addSocialAccount()"
        >
          + Add Another Social Media
        </button>
      </div>
    </div>

    <!-- 4. SKILLS & ACHIEVEMENTS -->
    <div class="form-section">
      <h3>Skills & Achievements</h3>
      <div class="form-group">
        <label for="skills">Relevant Skills</label>
        <textarea
          id="skills"
          placeholder="List your relevant skills (e.g. Java, React, etc.)"
          formControlName="skills"
        ></textarea>
      </div>
      <div class="form-group">
        <label for="achievements">Achievements/Awards</label>
        <textarea
          id="achievements"
          placeholder="e.g. Deanâ€™s List, Hackathon Winner, etc."
          formControlName="achievements"
        ></textarea>
      </div>
      <div class="form-group">
        <label for="certifications">Certifications</label>
        <textarea
          id="certifications"
          placeholder="e.g. AWS Certified, PMP, etc."
          formControlName="certifications"
        ></textarea>
      </div>
    </div>

    <!-- 5. EDUCATION (MULTIPLE) -->
    <div class="form-section">
      <h3>Education</h3>
      <div formArrayName="education">
        <div
          class="mini-card"
          *ngFor="let edu of educationControls; let i = index"
          [formGroupName]="i"
        >
          <button
            type="button"
            class="btn btn-danger remove-btn small-remove"
            (click)="removeEducation(i)"
          >
            &times;
          </button>

          <div class="form-group">
            <label for="school">School/University Name</label>
            <input
              id="school"
              type="text"
              placeholder="e.g. Georgia Southwestern University"
              formControlName="school"
            />
          </div>
          <div class="form-row">
            <div class="form-group half-width">
              <label for="grad">Graduation Date</label>
              <input type="month" id="grad" formControlName="grad" />
            </div>
            <div class="form-group half-width">
              <label for="major">Degree/Major</label>
              <input
                type="text"
                id="major"
                placeholder="e.g. B.S. in Computer Science"
                formControlName="major"
              />
            </div>
          </div>
        </div>

        <button
          type="button"
          class="btn btn-secondary add-btn"
          (click)="addEducation()"
        >
          + Add Another Education
        </button>
      </div>
    </div>

    <!-- 6. WORK EXPERIENCE (MULTIPLE) -->
    <div class="form-section">
      <h3>Work Experience</h3>
      <div formArrayName="experience">
        <div
          class="mini-card"
          *ngFor="let exp of experienceControls; let i = index"
          [formGroupName]="i"
        >
          <button
            type="button"
            class="btn btn-danger remove-btn small-remove"
            (click)="removeExperience(i)"
          >
            &times;
          </button>

          <div class="form-row">
            <div class="form-group half-width">
              <label for="exp_company">Company Name</label>
              <input
                type="text"
                id="exp_company"
                placeholder="e.g. Google"
                formControlName="exp_company"
              />
            </div>
            <div class="form-group half-width">
              <label for="exp_date">Time at Company</label>
              <input
                type="text"
                id="exp_date"
                placeholder="e.g. 2021 - 2023"
                formControlName="exp_date"
              />
            </div>
          </div>
          <div class="form-group">
            <label for="exp_description">Description of Role</label>
            <textarea
              id="exp_description"
              placeholder="What did you do at this company?"
              formControlName="exp_description"
            ></textarea>
          </div>
        </div>

        <button
          type="button"
          class="btn btn-secondary add-btn"
          (click)="addExperience()"
        >
          + Add Another Experience
        </button>
      </div>
    </div>

    <!-- 7. PROJECTS (MULTIPLE) -->
    <div class="form-section">
      <h3>Projects (Optional)</h3>
      <div formArrayName="projects">
        <div
          class="mini-card"
          *ngFor="let proj of projectControls; let i = index"
          [formGroupName]="i"
        >
          <button
            type="button"
            class="btn btn-danger remove-btn small-remove"
            (click)="removeProject(i)"
          >
            &times;
          </button>

          <div class="form-row">
            <div class="form-group half-width">
              <label for="projectName">Project Name</label>
              <input
                type="text"
                id="projectName"
                placeholder="e.g. Personal Portfolio"
                formControlName="projectName"
              />
            </div>
            <div class="form-group half-width">
              <label for="projectUrl">Project URL</label>
              <input
                type="text"
                id="projectUrl"
                placeholder="e.g. https://myportfolio.com"
                formControlName="projectUrl"
              />
            </div>
          </div>
          <div class="form-group">
            <label for="projectDesc">Project Description</label>
            <textarea
              id="projectDesc"
              placeholder="Short summary of your project."
              formControlName="projectDesc"
            ></textarea>
          </div>
        </div>

        <button
          type="button"
          class="btn btn-secondary add-btn"
          (click)="addProject()"
        >
          + Add Another Project
        </button>
      </div>
    </div>

    <!-- 8. REFERENCES (MULTIPLE) -->
    <div class="form-section">
      <h3>References</h3>
      <div formArrayName="references">
        <div
          class="mini-card"
          *ngFor="let ref of referenceControls; let i = index"
          [formGroupName]="i"
        >
          <button
            type="button"
            class="btn btn-danger remove-btn small-remove"
            (click)="removeReference(i)"
          >
            &times;
          </button>

          <div class="form-row">
            <div class="form-group half-width">
              <label for="refName">Reference Name</label>
              <input
                type="text"
                id="refName"
                placeholder="e.g. John Doe"
                formControlName="refName"
              />
            </div>
            <div class="form-group half-width">
              <label for="refContact">Contact Info</label>
              <input
                type="text"
                id="refContact"
                placeholder="Email or Phone"
                formControlName="refContact"
              />
            </div>
          </div>
        </div>

        <button
          type="button"
          class="btn btn-secondary add-btn"
          (click)="addReference()"
        >
          + Add Another Reference
        </button>
      </div>
    </div>

    <!-- 9. SUBMIT -->
    <div class="form-actions">
      <button
        type="submit"
        class="btn btn-primary"
        id="generateBtn"
        (click)="generate()"
      >
        GENERATE
      </button>
    </div>
  </form>
</div>
